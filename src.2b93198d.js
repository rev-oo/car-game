parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"D9Nj":[function(require,module,exports) {

},{}],"iysG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(){var e=this;this.keys=[];var t=["ArrowDown","ArrowUp","ArrowLeft","ArrowRight","Enter","Backspace"];window.addEventListener("keydown",function(n){t.includes(n.key)&&!e.keys.includes(n.key)&&e.keys.push(n.key)}),window.addEventListener("keyup",function(t){e.keys.includes(t.key)&&e.keys.splice(e.keys.indexOf(t.key),1)})}return e.prototype.getKeys=function(){return this.keys},e}();exports.default=e;
},{}],"BtS7":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var i=t(require("./inputHandler")),e=function(){function t(t,e){this.particles=[],this.win=!1,this.gameOver=!1,this.width=t,this.height=e,this.map=null,this.car=null,this.goal=null,this.inputHandler=new i.default}return t.prototype.setMap=function(t){this.map=t},t.prototype.setCar=function(t){this.car=t},t.prototype.setGoal=function(t){this.goal=t},t.prototype.addParticle=function(t){this.particles.push(t)},t.prototype.update=function(t){this.checkCollision(),this.checkWin(),this.map&&this.map.update(t),this.car&&this.car.update(this.inputHandler.getKeys(),t),this.particles.forEach(function(t){t.update()}),this.particles=this.particles.filter(function(t){return!t.markedForDeletion})},t.prototype.draw=function(t){this.map&&this.map.draw(t),this.goal&&this.goal.draw(t),this.car&&this.car.draw(t),this.particles.forEach(function(i){i.draw(t)})},t.prototype.checkCollision=function(){var t;this.car&&(null===(t=this.map)||void 0===t?void 0:t.checkCollision(this.car.polygon))&&(this.gameOver=!0,alert("ColisÃ£o"))},t.prototype.checkWin=function(){this.car&&this.goal&&this.goal.checkWin(this.car)&&(this.win=!0,alert("Fim"))},t}();exports.default=e;
},{"./inputHandler":"iysG"}],"U0ZB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,i,e,h,s){this.x=t,this.y=i,this.width=e,this.height=h,this.color=s}return t.prototype.draw=function(t){t.fillStyle=this.color,t.fillRect(this.x,this.y,this.width,this.height)},t}();exports.default=t;
},{}],"NRPQ":[function(require,module,exports) {
var define;
var t;!function(o,e){"use strict";"function"==typeof t&&t.amd?t(e):"object"==typeof exports?module.exports=e():o.SAT=e()}(this,function(){"use strict";var t={};function o(t,o){this.x=t||0,this.y=o||0}function e(t,e){this.pos=t||new o,this.r=e||0,this.offset=new o}function r(t,e){this.pos=t||new o,this.angle=0,this.offset=new o,this.setPoints(e||[])}function s(t,e,r){this.pos=t||new o,this.w=e||0,this.h=r||0}function n(){this.a=null,this.b=null,this.overlapN=new o,this.overlapV=new o,this.clear()}t.Vector=o,t.V=o,o.prototype.copy=o.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},o.prototype.clone=o.prototype.clone=function(){return new o(this.x,this.y)},o.prototype.perp=o.prototype.perp=function(){var t=this.x;return this.x=this.y,this.y=-t,this},o.prototype.rotate=o.prototype.rotate=function(t){var o=this.x,e=this.y;return this.x=o*Math.cos(t)-e*Math.sin(t),this.y=o*Math.sin(t)+e*Math.cos(t),this},o.prototype.reverse=o.prototype.reverse=function(){return this.x=-this.x,this.y=-this.y,this},o.prototype.normalize=o.prototype.normalize=function(){var t=this.len();return t>0&&(this.x=this.x/t,this.y=this.y/t),this},o.prototype.add=o.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},o.prototype.sub=o.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},o.prototype.scale=o.prototype.scale=function(t,o){return this.x*=t,this.y*=void 0!==o?o:t,this},o.prototype.project=o.prototype.project=function(t){var o=this.dot(t)/t.len2();return this.x=o*t.x,this.y=o*t.y,this},o.prototype.projectN=o.prototype.projectN=function(t){var o=this.dot(t);return this.x=o*t.x,this.y=o*t.y,this},o.prototype.reflect=o.prototype.reflect=function(t){var o=this.x,e=this.y;return this.project(t).scale(2),this.x-=o,this.y-=e,this},o.prototype.reflectN=o.prototype.reflectN=function(t){var o=this.x,e=this.y;return this.projectN(t).scale(2),this.x-=o,this.y-=e,this},o.prototype.dot=o.prototype.dot=function(t){return this.x*t.x+this.y*t.y},o.prototype.len2=o.prototype.len2=function(){return this.dot(this)},o.prototype.len=o.prototype.len=function(){return Math.sqrt(this.len2())},t.Circle=e,e.prototype.getAABBAsBox=e.prototype.getAABBAsBox=function(){var t=this.r;return new s(this.pos.clone().add(this.offset).sub(new o(t,t)),2*t,2*t)},e.prototype.getAABB=e.prototype.getAABB=function(){return this.getAABBAsBox().toPolygon()},e.prototype.setOffset=e.prototype.setOffset=function(t){return this.offset=t,this},t.Polygon=r,r.prototype.setPoints=r.prototype.setPoints=function(t){if(!this.points||this.points.length!==t.length){var e,r=this.calcPoints=[],s=this.edges=[],n=this.normals=[];for(e=0;e<t.length;e++){var p=t[e],i=e<t.length-1?t[e+1]:t[0];p===i||p.x!==i.x||p.y!==i.y?(r.push(new o),s.push(new o),n.push(new o)):(t.splice(e,1),e-=1)}}return this.points=t,this._recalc(),this},r.prototype.setAngle=r.prototype.setAngle=function(t){return this.angle=t,this._recalc(),this},r.prototype.setOffset=r.prototype.setOffset=function(t){return this.offset=t,this._recalc(),this},r.prototype.rotate=r.prototype.rotate=function(t){for(var o=this.points,e=o.length,r=0;r<e;r++)o[r].rotate(t);return this._recalc(),this},r.prototype.translate=r.prototype.translate=function(t,o){for(var e=this.points,r=e.length,s=0;s<r;s++)e[s].x+=t,e[s].y+=o;return this._recalc(),this},r.prototype._recalc=function(){var t,o=this.calcPoints,e=this.edges,r=this.normals,s=this.points,n=this.offset,p=this.angle,i=s.length;for(t=0;t<i;t++){var h=o[t].copy(s[t]);h.x+=n.x,h.y+=n.y,0!==p&&h.rotate(p)}for(t=0;t<i;t++){var a=o[t],u=t<i-1?o[t+1]:o[0],y=e[t].copy(u).sub(a);r[t].copy(y).perp().normalize()}return this},r.prototype.getAABBAsBox=r.prototype.getAABBAsBox=function(){for(var t=this.calcPoints,e=t.length,r=t[0].x,n=t[0].y,p=t[0].x,i=t[0].y,h=1;h<e;h++){var a=t[h];a.x<r?r=a.x:a.x>p&&(p=a.x),a.y<n?n=a.y:a.y>i&&(i=a.y)}return new s(this.pos.clone().add(new o(r,n)),p-r,i-n)},r.prototype.getAABB=r.prototype.getAABB=function(){return this.getAABBAsBox().toPolygon()},r.prototype.getCentroid=r.prototype.getCentroid=function(){for(var t=this.calcPoints,e=t.length,r=0,s=0,n=0,p=0;p<e;p++){var i=t[p],h=p===e-1?t[0]:t[p+1],a=i.x*h.y-h.x*i.y;r+=(i.x+h.x)*a,s+=(i.y+h.y)*a,n+=a}return new o(r/=n*=3,s/=n)},t.Box=s,s.prototype.toPolygon=s.prototype.toPolygon=function(){var t=this.pos,e=this.w,s=this.h;return new r(new o(t.x,t.y),[new o,new o(e,0),new o(e,s),new o(0,s)])},t.Response=n,n.prototype.clear=n.prototype.clear=function(){return this.aInB=!0,this.bInA=!0,this.overlap=Number.MAX_VALUE,this};for(var p=[],i=0;i<10;i++)p.push(new o);var h=[];for(i=0;i<5;i++)h.push([]);var a=new n,u=new s(new o,1e-6,1e-6).toPolygon();function y(t,o,e){for(var r=Number.MAX_VALUE,s=-Number.MAX_VALUE,n=t.length,p=0;p<n;p++){var i=t[p].dot(o);i<r&&(r=i),i>s&&(s=i)}e[0]=r,e[1]=s}function c(t,o,e,r,s,n){var i=h.pop(),a=h.pop(),u=p.pop().copy(o).sub(t),c=u.dot(s);if(y(e,s,i),y(r,s,a),a[0]+=c,a[1]+=c,i[0]>a[1]||a[0]>i[1])return p.push(u),h.push(i),h.push(a),!0;if(n){var l,f,v=0;if(i[0]<a[0])if(n.aInB=!1,i[1]<a[1])v=i[1]-a[0],n.bInA=!1;else v=(l=i[1]-a[0])<(f=a[1]-i[0])?l:-f;else if(n.bInA=!1,i[1]>a[1])v=i[0]-a[1],n.aInB=!1;else v=(l=i[1]-a[0])<(f=a[1]-i[0])?l:-f;var x=Math.abs(v);x<n.overlap&&(n.overlap=x,n.overlapN.copy(s),v<0&&n.overlapN.reverse())}return p.push(u),h.push(i),h.push(a),!1}function l(t,o){var e=t.len2(),r=o.dot(t);return r<0?f:r>e?x:v}t.isSeparatingAxis=c;var f=-1,v=0,x=1;function g(t,o,e){for(var r=p.pop().copy(o.pos).add(o.offset).sub(t.pos),s=o.r,n=s*s,i=t.calcPoints,h=i.length,a=p.pop(),u=p.pop(),y=0;y<h;y++){var c=y===h-1?0:y+1,v=0===y?h-1:y-1,g=0,A=null;a.copy(t.edges[y]),u.copy(r).sub(i[y]),e&&u.len2()>n&&(e.aInB=!1);var b=l(a,u);if(b===f){a.copy(t.edges[v]);var B=p.pop().copy(r).sub(i[v]);if((b=l(a,B))===x){if((w=u.len())>s)return p.push(r),p.push(a),p.push(u),p.push(B),!1;e&&(e.bInA=!1,A=u.normalize(),g=s-w)}p.push(B)}else if(b===x){if(a.copy(t.edges[c]),u.copy(r).sub(i[c]),(b=l(a,u))===f){if((w=u.len())>s)return p.push(r),p.push(a),p.push(u),!1;e&&(e.bInA=!1,A=u.normalize(),g=s-w)}}else{var d=a.perp().normalize(),w=u.dot(d),P=Math.abs(w);if(w>0&&P>s)return p.push(r),p.push(d),p.push(u),!1;e&&(A=d,g=s-w,(w>=0||g<2*s)&&(e.bInA=!1))}A&&e&&Math.abs(g)<Math.abs(e.overlap)&&(e.overlap=g,e.overlapN.copy(A))}return e&&(e.a=t,e.b=o,e.overlapV.copy(e.overlapN).scale(e.overlap)),p.push(r),p.push(a),p.push(u),!0}function A(t,o,e){for(var r=t.calcPoints,s=r.length,n=o.calcPoints,p=n.length,i=0;i<s;i++)if(c(t.pos,o.pos,r,n,t.normals[i],e))return!1;for(i=0;i<p;i++)if(c(t.pos,o.pos,r,n,o.normals[i],e))return!1;return e&&(e.a=t,e.b=o,e.overlapV.copy(e.overlapN).scale(e.overlap)),!0}return t.pointInCircle=function(t,o){var e=p.pop().copy(t).sub(o.pos).sub(o.offset),r=o.r*o.r,s=e.len2();return p.push(e),s<=r},t.pointInPolygon=function(t,o){u.pos.copy(t),a.clear();var e=A(u,o,a);return e&&(e=a.aInB),e},t.testCircleCircle=function(t,o,e){var r=p.pop().copy(o.pos).add(o.offset).sub(t.pos).sub(t.offset),s=t.r+o.r,n=s*s,i=r.len2();if(i>n)return p.push(r),!1;if(e){var h=Math.sqrt(i);e.a=t,e.b=o,e.overlap=s-h,e.overlapN.copy(r.normalize()),e.overlapV.copy(r).scale(e.overlap),e.aInB=t.r<=o.r&&h<=o.r-t.r,e.bInA=o.r<=t.r&&h<=t.r-o.r}return p.push(r),!0},t.testPolygonCircle=g,t.testCirclePolygon=function(t,o,e){var r=g(o,t,e);if(r&&e){var s=e.a,n=e.aInB;e.overlapN.reverse(),e.overlapV.reverse(),e.a=e.b,e.b=s,e.aInB=e.bInA,e.bInA=n}return r},t.testPolygonPolygon=A,t});
},{}],"uJIL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("sat"),i=[{c1:"#bf6040",c2:"#a25134",c3:"#8b452b"},{c1:"#b3bdbe",c2:"#94999d",c3:"#757a7d"},{c1:"#7499b6",c2:"#4d667c",c3:"#62809c"}],h=function(){function h(h,s,e,o,l){this.x=h,this.y=s,this.width=e,this.height=o,this.entranceDir=l,this.box=new t.Box(new t.Vector(h,s),e,o),this.colorSet=i[Math.floor(Math.random()*i.length)]}return h.prototype.draw=function(t){switch(this.entranceDir){case 0:case 2:t.fillStyle=this.colorSet.c2,t.fillRect(this.x,this.y,this.width,this.height/2),t.fillStyle=this.colorSet.c3,t.fillRect(this.x,this.y+this.height/2,this.width,this.height/2),t.fillStyle=this.colorSet.c1,t.beginPath(),t.moveTo(this.x,this.y),t.lineTo(this.x,this.y+this.height),t.lineTo(this.x+this.width/4,this.y+this.height/2),t.lineTo(this.x,this.y),t.moveTo(this.x+this.width,this.y),t.lineTo(this.x+this.width-this.width/4,this.y+this.height/2),t.lineTo(this.x+this.width,this.y+this.height),t.lineTo(this.x+this.width,this.y),t.fill();break;case 1:case 3:t.fillStyle=this.colorSet.c2,t.fillRect(this.x,this.y,this.width/2,this.height),t.fillStyle=this.colorSet.c3,t.fillRect(this.x+this.width/2,this.y,this.width/2,this.height),t.fillStyle=this.colorSet.c1,t.beginPath(),t.moveTo(this.x,this.y),t.lineTo(this.x+this.width,this.y),t.lineTo(this.x+this.width/2,this.y+this.height/4),t.lineTo(this.x,this.y),t.moveTo(this.x,this.y+this.height),t.lineTo(this.x+this.width/2,this.y+this.height-this.height/4),t.lineTo(this.x+this.width,this.y+this.height),t.lineTo(this.x,this.y+this.height),t.fill()}},h.prototype.update=function(t){},h.prototype.getBox=function(){return this.box},h}();exports.default=h;
},{"sat":"NRPQ"}],"HAl3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var o=require("sat"),t=function(){function t(){this.components=[]}return t.prototype.add=function(o){this.components.push(o)},t.prototype.setFloor=function(o){this.floor=o},t.prototype.update=function(o){for(var t=0,e=this.components;t<e.length;t++){e[t].update(o)}},t.prototype.draw=function(o){this.floor&&this.floor.draw(o);for(var t=0,e=this.components;t<e.length;t++){e[t].draw(o)}},t.prototype.checkCollision=function(t){for(var e=0,n=this.components;e<n.length;e++){var r=n[e].getBox();if(r&&(0,o.testPolygonPolygon)(t,r.toPolygon()))return!0}return!1},t}();exports.default=t;
},{"sat":"NRPQ"}],"x9eg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t){this.points=t,this.path=new Path2D,this.path.moveTo(this.points[0].x,this.points[0].y);for(var e=0,i=this.points;e<i.length;e++){var o=i[e];this.path.lineTo(o.x,o.y)}}return t.prototype.getBox=function(){},t.prototype.draw=function(t){t.setLineDash([]),t.lineWidth=92,t.strokeStyle="#D2D1CD",t.stroke(this.path),t.lineWidth=84,t.strokeStyle="#2A2922",t.stroke(this.path),t.setLineDash([5,15]),t.lineWidth=2,t.strokeStyle="#FFFFFF",t.stroke(this.path)},t.prototype.update=function(t){},t}();exports.default=t;
},{}],"rHau":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,i,h,e,s){void 0===s&&(s=0),this.x=t,this.y=i,this.width=h,this.height=e,this.entranceDir=s}return t.prototype.getBox=function(){},t.prototype.draw=function(t){t.strokeStyle="#BC4A3C",t.setLineDash([]),t.lineWidth=2,t.strokeRect(this.x,this.y,this.width,this.height),t.setLineDash([5,2]),t.lineWidth=4,t.strokeRect(this.x,this.y,this.width,this.height),t.setLineDash([]),t.fillStyle="#BC4A3C",t.lineWidth=1,t.fillRect(this.x-4,this.y-4,8,8),t.fillRect(this.x-4+this.width,this.y-4,8,8),t.fillRect(this.x-4,this.y-4+this.height,8,8),t.fillRect(this.x-4+this.width,this.y-4+this.height,8,8);switch(t.fillStyle="#9b7653",this.entranceDir){case 0:t.fillRect(this.x+this.width/2-15,this.y-2,30,4);break;case 1:t.fillRect(this.x+this.width-2,this.y+this.height/2-15,4,30);break;case 2:t.fillRect(this.x+this.width/2-15,this.y+this.height-2,30,4);break;case 3:t.fillRect(this.x-2,this.y+this.height/2-15,4,30)}},t.prototype.update=function(t){},t}();exports.default=t;
},{}],"h0th":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var e=require("sat"),i=t(require("./house")),o=t(require("./wall")),h=function(){function t(t,i,o,h){this.components=[],this.x=t,this.y=i,this.width=o,this.height=h,this.box=new e.Box(new e.Vector(t,i),o,h)}return t.prototype.draw=function(t){t.fillStyle="#9b7653",t.fillRect(this.x,this.y,this.width,this.height);for(var e=0,i=this.components;e<i.length;e++){i[e].draw(t)}},t.prototype.update=function(t){},t.prototype.addWall=function(t){var e=t.entranceDir,i=new o.default(this.x,this.y,this.width,this.height,e);this.components.push(i)},t.prototype.addHouse=function(t){var e=t.x,o=t.y,h=t.width,n=t.height,s=t.entranceDir,r=new i.default(this.x+e,this.y+o,h,n,s);this.components.push(r)},t.prototype.getBox=function(){return this.box},t}();exports.default=h;
},{"sat":"NRPQ","./house":"uJIL","./wall":"rHau"}],"PlND":[function(require,module,exports) {
"use strict";var t,e=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.TrafficSignalYellow=exports.TrafficSignalGreen=exports.TrafficSignalRed=exports.TrafficSignalState=exports.trafficSignalStates=void 0,function(t){t[t.RED=0]="RED",t[t.YELLOW=1]="YELLOW",t[t.GREEN=2]="GREEN"}(t=exports.trafficSignalStates||(exports.trafficSignalStates={}));var n=function(){return function(t){this.ts=t}}();exports.TrafficSignalState=n;var r=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return e(r,n),r.prototype.enter=function(){this.ts.maxTime=5e3,this.ts.time=0},r.prototype.next=function(){this.ts.setState(t.GREEN)},r}(n);exports.TrafficSignalRed=r;var i=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return e(r,n),r.prototype.enter=function(){this.ts.maxTime=3e3,this.ts.time=0},r.prototype.next=function(){this.ts.setState(t.YELLOW)},r}(n);exports.TrafficSignalGreen=i;var o=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return e(r,n),r.prototype.enter=function(){this.ts.maxTime=2e3,this.ts.time=0},r.prototype.next=function(){this.ts.setState(t.RED)},r}(n);exports.TrafficSignalYellow=o;
},{}],"LdpP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("sat"),i=require("./trafficSinalStates"),e=function(){function e(e,h,s){var a;this.x=e,this.y=h,this.dir=s,0==s?(this.width=10,this.height=30):(this.width=30,this.height=10),this.box=new t.Box(new t.Vector(this.x,this.y),this.width,this.height),this.time=0,this.maxTime=0,this.states=((a={})[i.trafficSignalStates.GREEN]=new i.TrafficSignalGreen(this),a[i.trafficSignalStates.RED]=new i.TrafficSignalRed(this),a[i.trafficSignalStates.YELLOW]=new i.TrafficSignalYellow(this),a),this.currentState=this.states[i.trafficSignalStates.GREEN],this.setState(i.trafficSignalStates.GREEN)}return e.prototype.draw=function(t){if(t.fillStyle="#1C1F1E",t.fillRect(this.x,this.y,this.width,this.height),0==this.dir){var e=this.height/3/2,h=this.height/3;t.beginPath(),t.fillStyle="#FE5E5A"+(this.currentState instanceof i.TrafficSignalRed?"":"40"),t.arc(this.x+this.width/2,this.y+(0*h+e),3,0,2*Math.PI),t.fill(),t.beginPath(),t.fillStyle="#FEC957"+(this.currentState instanceof i.TrafficSignalYellow?"":"40"),t.arc(this.x+this.width/2,this.y+(1*h+e),3,0,2*Math.PI),t.fill(),t.beginPath(),t.fillStyle="#2DCA5E"+(this.currentState instanceof i.TrafficSignalGreen?"":"40"),t.arc(this.x+this.width/2,this.y+(2*h+e),3,0,2*Math.PI),t.fill()}else{e=this.width/3/2,h=this.width/3;t.beginPath(),t.fillStyle="#FE5E5A"+(this.currentState instanceof i.TrafficSignalRed?"":"40"),t.arc(this.x+(0*h+e),this.y+this.height/2,3,0,2*Math.PI),t.fill(),t.beginPath(),t.fillStyle="#FEC957"+(this.currentState instanceof i.TrafficSignalYellow?"":"40"),t.arc(this.x+(1*h+e),this.y+this.height/2,3,0,2*Math.PI),t.fill(),t.beginPath(),t.fillStyle="#2DCA5E"+(this.currentState instanceof i.TrafficSignalGreen?"":"40"),t.arc(this.x+(2*h+e),this.y+this.height/2,3,0,2*Math.PI),t.fill()}},e.prototype.update=function(t){this.time+=t,this.time>=this.maxTime&&this.currentState.next()},e.prototype.getBox=function(){return this.currentState instanceof i.TrafficSignalRed?this.box:void 0},e.prototype.setState=function(t){this.currentState=this.states[t],this.currentState.enter()},e}();exports.default=e;
},{"sat":"NRPQ","./trafficSinalStates":"PlND"}],"f2MY":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("./map/floor")),r=t(require("./map/house")),a=t(require("./map/map")),i=t(require("./map/road")),u=t(require("./map/terrain")),o=t(require("./map/trafficSignal")),n=function(){function t(){this.map=new a.default}return t.prototype.buildRoad=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=new i.default(t);return this.map.add(r),this},t.prototype.buildFloor=function(t,r,a,i,u){var o=new e.default(t,r,a,i,u);return this.map.setFloor(o),this},t.prototype.buildTrafficSignal=function(t,e,r){var a=new o.default(t,e,r);return this.map.add(a),this},t.prototype.buildTerrain=function(t,e,r,a,i){void 0===i&&(i=[]);var o=new u.default(t,e,r,a);return i.forEach(function(t){var e=t.type,r=t.props;switch(e){case"wall":o.addWall(r);break;case"house":o.addHouse(r)}}),this.map.add(o),this},t.prototype.buildHouse=function(t,e,a,i,u){var o=new r.default(t,e,a,i,u);return this.map.add(o),this},t.prototype.build=function(){return this.map},t}();exports.default=n;
},{"./map/floor":"U0ZB","./map/house":"uJIL","./map/map":"HAl3","./map/road":"x9eg","./map/terrain":"h0th","./map/trafficSignal":"LdpP"}],"dOIN":[function(require,module,exports) {
"use strict";function t(t,e,o){var r=o*Math.PI/180;return{x:t*Math.cos(r)-e*Math.sin(r),y:t*Math.sin(r)+e*Math.cos(r)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.rotatePoint=void 0,exports.rotatePoint=t;
},{}],"Iu3D":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){this.markedForDeletion=!1,this.x=t,this.y=e,this.size=Math.random()+1,this.speedX=Math.random(),this.speedY=Math.random()}return t.prototype.update=function(){this.x-=this.speedX,this.y-=this.speedY,this.size*=1.025,this.size>5&&(this.markedForDeletion=!0)},t}();exports.default=t;
},{}],"mSri":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])})(r,e)};return function(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var e=r(require("./particle")),o=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.color="#FFFFFF40",t}return t(e,r),e.prototype.draw=function(t){t.beginPath(),t.arc(this.x,this.y,this.size,0,2*Math.PI),t.fillStyle=this.color,t.fill()},e}(e.default);exports.default=o;
},{"./particle":"Iu3D"}],"nfXL":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function a(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CarOffState=exports.CarOnState=exports.CarState=exports.carStates=void 0;var r,a=e(require("../particle/smoke"));!function(t){t[t.ON=0]="ON",t[t.OFF=1]="OFF"}(r=exports.carStates||(exports.carStates={}));var s=function(){return function(t){this.car=t}}();exports.CarState=s;var i=function(e){function s(){return null!==e&&e.apply(this,arguments)||this}return t(s,e),s.prototype.update=function(t,e){this.car.game.addParticle(new a.default(this.car.x-Math.cos((this.car.degree-90)*(Math.PI/180))*(.2*this.car.width),this.car.y-Math.sin((this.car.degree-90)*(Math.PI/180))*(.2*this.car.width))),t.includes("Backspace")&&this.car.setState(r.OFF),t.includes("ArrowUp")?this.car.speed<this.car.maxSpeed&&(this.car.speed+=this.car.acceleration):t.includes("ArrowDown")&&this.car.speed>this.car.maxReverseSpeed&&(this.car.speed-=this.car.acceleration),0!=this.car.speed&&(t.includes("ArrowRight")&&(this.car.degree+=this.car.rotateSpeed*this.car.speed),t.includes("ArrowLeft")&&(this.car.degree-=this.car.rotateSpeed*this.car.speed))},s}(s);exports.CarOnState=i;var n=function(e){function a(){return null!==e&&e.apply(this,arguments)||this}return t(a,e),a.prototype.update=function(t,e){t.includes("Enter")&&this.car.setState(r.ON)},a}(s);exports.CarOffState=n;
},{"../particle/smoke":"mSri"}],"GjSD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("sat"),e=require("../utils"),i=require("./carStates"),s=function(){function s(t,e){var s,h=e.x,r=e.y,a=e.degree;this.game=t,this.x=h,this.y=r,this.degree=a,this.image=document.querySelector("#car"),this.width=this.image.width,this.height=this.image.height,this.speed=0,this.maxSpeed=3,this.maxReverseSpeed=-1,this.acceleration=.05,this.resistance=.02,this.rotateSpeed=.75,this.states=((s={})[i.carStates.ON]=new i.CarOnState(this),s[i.carStates.OFF]=new i.CarOffState(this),s),this.currentState=this.states[i.carStates.OFF]}return s.prototype.update=function(t,e){this.currentState.update(t,e),this.speed>0?(this.speed-=this.resistance,this.speed=Math.max(0,this.speed)):this.speed<0&&(this.speed+=this.resistance,this.speed=Math.min(0,this.speed));var i=(this.degree-90)*(Math.PI/180),s=Math.cos(i)*this.speed,h=Math.sin(i)*this.speed;this.x+=s,this.y+=h},s.prototype.draw=function(t){t.save(),t.translate(this.x,this.y),t.rotate(Math.PI/180*this.degree),t.drawImage(this.image,0,0,this.width,this.height,.1*-this.width,.1*-this.height,.2*this.width,.2*this.height),t.restore()},Object.defineProperty(s.prototype,"radian",{get:function(){return(this.degree-90)*(Math.PI/180)},enumerable:!1,configurable:!0}),s.prototype.setState=function(t){this.currentState=this.states[t]},Object.defineProperty(s.prototype,"polygon",{get:function(){var i=(0,e.rotatePoint)(.1*-this.width,.1*-this.height,this.degree),s=(0,e.rotatePoint)(.1*this.width,.1*-this.height,this.degree),h=(0,e.rotatePoint)(.1*this.width,.1*this.height,this.degree),r=(0,e.rotatePoint)(.1*-this.width,.1*this.height,this.degree),a=[new t.Vector(this.x+i.x,this.y+i.y),new t.Vector(this.x+s.x,this.y+s.y),new t.Vector(this.x+h.x,this.y+h.y),new t.Vector(this.x+r.x,this.y+r.y)];return new t.Polygon(new t.Vector,a)},enumerable:!1,configurable:!0}),s}();exports.default=s;
},{"sat":"NRPQ","../utils":"dOIN","./carStates":"nfXL"}],"WUAJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("sat"),e=require("./car/carStates"),i=function(){function i(e,i){this.x=e,this.y=i,this.image=document.querySelector("img#flag"),this.width=this.image.width,this.height=this.image.height,this.box=new t.Box(new t.Vector(e,i),this.width,this.height)}return i.prototype.draw=function(t){t.drawImage(this.image,this.x,this.y,this.width,this.height)},i.prototype.checkWin=function(i){return i.currentState instanceof e.CarOffState&&(0,t.testPolygonPolygon)(i.polygon,this.box.toPolygon())},i}();exports.default=i;
},{"sat":"NRPQ","./car/carStates":"nfXL"}],"B6dB":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),require("./styles.css");var i=e(require("./scripts/game")),r=e(require("./scripts/mapBuilder")),t=e(require("./scripts/car/car")),a=e(require("./scripts/goal"));window.addEventListener("load",function(){var e=document.querySelector("canvas");if(e){var d=e.getContext("2d");if(d){e.width=1e3,e.height=700;var u=new i.default(e.width,e.height),n=(new r.default).buildRoad({x:0,y:50},{x:e.width,y:50}).buildRoad({x:300,y:92},{x:300,y:e.height}).buildRoad({x:342,y:500},{x:e.width,y:500}).buildRoad({x:850,y:458},{x:850,y:300}).buildHouse(670,120,300,150,0).buildTerrain(370,120,250,200,[{type:"wall",props:{entranceDir:3}},{type:"house",props:{x:100,y:25,width:120,height:150,entranceDir:3}}]).buildTerrain(10,120,220,270,[{type:"house",props:{x:10,y:100,width:200,height:160,entranceDir:1}},{type:"house",props:{x:10,y:10,width:100,height:60,entranceDir:2}}]).buildTerrain(10,400,220,270,[{type:"house",props:{x:10,y:10,width:200,height:250,entranceDir:1}}]).buildTerrain(360,560,400,400,[{type:"wall",props:{entranceDir:4}}]).buildFloor(0,0,e.width,e.height,"#136d15").buildTrafficSignal(240,56,0).buildTrafficSignal(262,446,1).build(),l=new t.default(u,{x:25,y:72,degree:90}),s=new a.default(860,280);u.setMap(n),u.setCar(l),u.setGoal(s);var h=0;!function i(r){var t=r-h;h=r,d.clearRect(0,0,e.width,e.height),u.update(t),u.draw(d),u.win||u.gameOver||window.requestAnimationFrame(i)}(0)}}});
},{"./styles.css":"D9Nj","./scripts/game":"BtS7","./scripts/mapBuilder":"f2MY","./scripts/car/car":"GjSD","./scripts/goal":"WUAJ"}]},{},["B6dB"], null)
//# sourceMappingURL=/src.2b93198d.js.map